(function(){function t(t,e){this.path=t||void 0,this.fullPath=void 0,this.target=e||void 0}function e(){this.queue={},this.position=0,this.onFinish=this.onProgress=this.delay=this.target=this.step=void 0}t.prototype=t,t.constructor=t,t.prototype.kill=function(){for(var t=document.getElementsByTagName("script"),e=0;e<t.length;++e)if(t[e].getAttribute("src")===this.fullPath){this.target===t[e].parentNode&&this.target.nodeName===t[e].parentNode.nodeName&&t[e].parentNode.removeChild(t[e]);break}},t.prototype.getFullPath=function(){return this.fullPath},t.prototype.setFullPath=function(t){this.fullPath=t},t.prototype.getPath=function(){return this.path},t.prototype.getTarget=function(){return this.target},t.prototype.setTarget=function(t){this.target=t},e.prototype=e,e.constructor=e,e.prototype.addToQueue=function(e){var i=null;if(1<arguments.length)for(var o=0;o<arguments.length;++o)this.addToQueue(arguments[o]);else if(e instanceof Array&&e.length)for(o=0;o<e.length;++o)e[o].length&&(i=new t(e[o]),this.queue[e[o]]=i);else("string"==typeof e||e instanceof String)&&e.length&&(i=new t(e),this.queue[e]=i)},e.prototype.loadScript=function(t,e){var i="?import&"+(new Date).getTime();t.setTarget(this.target),t.setFullPath(t.getPath()+i),t=t.getPath();var o=document.createElement("script");o.src=t+i,o.addEventListener("load",function(){e(t)}),this.appendScript(o)},e.prototype.appendScript=function(t){void 0!==this.target?("string"==typeof this.target||this.target instanceof String)&&document.querySelector(this.target)?document.querySelector(this.target).appendChild(t):(this.target instanceof Node||this.target instanceof Element||this.target instanceof HTMLElement)&&"function"==typeof this.target.appendChild&&this.target.appendChild(t):document.head?document.head.appendChild(t):document.body&&document.body.appendChild(t)},e.prototype.getQueueItem=function(){return this.queue[Object.keys(this.queue)[0]]},e.prototype.removeFromQueue=function(t){this.queue[t]&&delete this.queue[t]},e.prototype.run=function(){var t=this,e=Object.keys(this.queue).length;this.step||(this.step=Math.ceil(100/e)),0>=e?(this.onFinish&&this.onFinish instanceof Function&&this.onFinish(),this.clear()):(this.position+=this.step,this.delay?setTimeout(function(){t.load()},this.delay):this.load())},e.prototype.load=function(){var t=this,e=this.getQueueItem();e&&this.loadScript(e,function(i){t.onProgress&&t.onProgress instanceof Function?(e=t.getQueueItem(),t.onProgress(t.position,t.queue[i])):e=t.getQueueItem(),t.removeFromQueue(e.path),t.run()})},e.prototype.clear=function(){this.queue={},this.position=0,this.step=this.delay=this.target=this.onProgress=this.onFinish=void 0},this.Importer=e=new e}).call(this);